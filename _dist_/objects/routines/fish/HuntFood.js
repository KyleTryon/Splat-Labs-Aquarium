export default class o{constructor(i){this.name="HuntFood",this.fish=i.fish,this.priority=0}calcPriority(){this._availableFood=this.fish.scene.fishFood,this._availableFood.getLength()>0?this.priority=.99:this.priority=0}execute(){if(this._availableFood=this.fish.scene.fishFood,this._availableFood.getLength()>0){let i=this._availableFood.getChildren().sort((t,e)=>{let s=Phaser.Math.Distance.Between(this.fish.x,this.fish.y,t.x,t.y),h=Phaser.Math.Distance.Between(this.fish.x,this.fish.y,e.x,e.y);return s>h?1:s==h?0:-1}),a=Phaser.Math.Distance.Between(this.fish.x,this.fish.y,i[0].x,i[0].y);if(a<10){let t=i[0].foodValue;this._availableFood.remove(i[0],!0),this.fish.energy+=t}else{let t=i[0]._body.velocity,e=new Phaser.Math.Vector2(i[0].x+t.x*this.fish._deltaTime,i[0].y+t.y*this.fish._deltaTime);this.fish.target=e,this.fish.swimToTarget(20,2)}}}}
